# 更新日志

本项目的所有重要变更都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.1.9] - 2026-01-20

### 新增
- **版本号显示**：在顶部工具栏显示当前应用版本号
- **刷新按钮视觉反馈**：
  - 添加旋转动画效果
  - 显示"刷新中..."加载状态
  - 刷新期间禁用按钮防止重复点击

### 优化
- **按钮排列优化**：启动和重启按钮紧挨着放置，日志按钮移至最后，更符合使用习惯
- **版本号布局优化**：版本号紧贴 GitHub 按钮左侧显示，布局更加紧凑美观
- **服务模式切换优化**：切换到"启动命令"模式时自动清空 app_path 字段，确保使用正确的停止方式

### 修复
- **修复 open-webui 停止功能**：改进 quit_app 函数，使用 AppleScript + pkill 双重策略，支持命令行服务的停止
- **修复服务模式 app_path 问题**：确保服务模式（launchd）使用 launchctl unload 停止，而非应用模式的 quit_app
- **修复跨平台支持**：完善 Windows 和 Linux 平台的应用检测和控制功能

## [0.1.7] - 2026-01-20

### 新增
- **应用图标**：新增专门的应用图标（网格样式），切换到应用模式时自动设置
- **智能图标切换**：选择"📱 启动应用"模式时自动切换为应用图标，选择"💻 启动命令"时自动切换为终端图标
- **Toast 提示系统**：使用美观的 Toast 提示替代 alert 弹窗，支持成功（绿色）和失败（红色）两种样式，自动 3 秒后消失
- **应用运行状态检测**：自动检测 macOS 应用的运行状态，实时显示启动/停止按钮，与服务模式体验一致
- **智能路径处理**：应用启动时自动补全 `.app` 后缀，支持多种命名格式

### 优化
- **编辑界面优化**：
  - 添加关闭按钮（✕）在右上角
  - 启动方式选择移至表单最顶部
  - 标识符字段仅在命令模式下显示，应用模式自动隐藏
  - 应用路径固定前缀 `/Applications/`（不可编辑），用户只需输入应用名
- **端口状态检测**：延迟 2 秒首次检查，避免服务刚启动时误报端口未开放
- **设置按钮**：图标从 16px 放大到 20px，更加醒目易点击
- **状态刷新**：缩短延迟至 800ms，应用启动/停止后按钮状态更快更新

### 修复
- 修复应用进程名匹配问题，使用模糊匹配支持各种命名风格（如 `AntigravityTools` 可匹配 `antigravity_tools`）
- 修复应用启动后按钮状态不变的问题
- 修复应用模式下停止和重启功能无响应的问题
- 使用 AppleScript 检测应用运行状态，替代不可靠的 `pgrep` 命令
- 统一应用和服务模式的启动/停止/重启按钮逻辑

### 文档
- 创建截图目录 `docs/images/` 用于存放应用界面截图

## [0.1.6] - 2026-01-20

### 新增
- 双启动模式：支持"启动命令"和"启动应用"两种模式，可在界面上一键切换
- 应用模式支持：可直接配置 macOS 应用（如 AntigravityTools），自动使用 `open -a` 启动
- AntigravityTools 预设模板：内置 Antigravity 开发工具配置
- 详细的使用文档（docs/USER_GUIDE.md），包含完整的功能说明和配置指南
- 应用模式下显示友好提示："应用模式不需要填写服务名，系统会自动生成"

### 变更
- 将"删除服务"按钮改为"删除配置"，语义更准确
- 编辑弹窗布局优化：
  - 启动方式改为二选一的切换按钮设计（💻 启动命令 / 📱 启动应用）
  - 根据选择的模式动态显示对应的输入框
  - 项目地址移至扩展信息区域
  - Web 地址和项目地址增加图标标识（🌐 🔄）

### 修复
- 修复保存应用模式服务后，再次编辑时错误显示为命令模式的问题
- 修复预设模板应用时的模式识别问题
- 修复 label 标签重复 display 属性的 CSS 警告
- 完善应用模式的 metadata 保存逻辑

### 文档
- 创建详细的使用指南文档
- README 中添加使用指南链接
- 添加双启动模式的使用说明

## [0.1.5] - 2026-01-20

### 新增
- 服务列表中显示服务图标
- 添加 OpenWebUI 预设模板（启动命令：`open-webui serve`，端口 3000）

### 变更
- 简化服务配置表单：将"可执行程序"和"程序参数"合并为单个"启动命令"字段
- 将"健康检查 URL"重命名为"Web 地址"，语义更清晰

### 优化
- 优化用户界面，减少配置项复杂度
- 提升表单填写体验

## [0.1.4] - 2026-01-19

### 变更
- 产品名称从 "Service Master" 改为 "ServiceMaster"，去除空格
- 生成的安装包文件名不再包含空格，便于终端操作

### 新增
- 在 README 中添加 macOS 安装故障排除指南
- 提供解决"文件已损坏"错误的三种方法

## [0.1.3] - 2026-01-19

### 新增
- 工具栏添加 GitHub 仓库图标，可快速跳转到项目主页

### 修复
- 修复从 WebDAV 下载时，无论确定还是取消都会弹出"更新成功"提示的问题
- 修复更新成功弹窗无法关闭的问题

## [0.1.2] - 2026-01-19

### 变更
- 更新项目配置和依赖

## [0.1.1] - 2026-01-19

### 新增
- 配置 Tauri 代码签名公钥，支持自动更新功能

### 变更
- 更新应用签名密钥

## [0.1.0] - 2026-01-18

### 新增
- 初始版本发布
- macOS launchd 服务管理功能
- 支持创建、编辑、删除服务
- 服务状态监控（运行中/已停止）
- 服务健康检查
- 支持 WebDAV 同步配置
- 预设服务模板（MySQL、Redis、Ollama、PostgreSQL）
- 跨平台支持（macOS、Windows、Linux）
